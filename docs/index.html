<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>GeoAnomalyMapper | Void Explorer</title>
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
      integrity="sha256-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44c="
      crossorigin=""
    />
    <link rel="stylesheet" href="assets/styles.css" />
  </head>
  <body>
    <header class="page-header">
      <div class="branding">
        <h1>GeoAnomalyMapper</h1>
        <p class="tagline">Interactive exploration of processed void detections</p>
      </div>
      <nav class="quick-links">
        <a href="#instructions">Setup</a>
        <a href="#datasets">Datasets</a>
        <a href="#map">Map</a>
      </nav>
    </header>

    <main>
      <section id="intro" class="intro">
        <h2>Welcome</h2>
        <p>
          This site showcases the subsurface voids and geophysical anomalies detected by the
          GeoAnomalyMapper pipeline. You can publish the visualisation on GitHub Pages and drop in
          your most recent processed outputs to refresh the experience without touching the code.
        </p>
      </section>

      <section id="instructions" class="instructions">
        <h2>How to publish new data</h2>
        <ol>
          <li>
            Run the processing scripts locally and export your results as <code>GeoJSON</code> or
            <code>TopoJSON</code> files.
          </li>
          <li>
            Update <code>docs/data/datasets.json</code> with an entry for each dataset you wish to
            display. Each entry describes the file path (relative to <code>docs/</code>), colour, and
            a short description.
          </li>
          <li>
            Copy your processed data files into <code>docs/data/</code> (or any sub-folder) and push
            the changes to the repository. GitHub Pages will serve everything automatically.
          </li>
          <li>
            Use the "Preview a local file" uploader below to validate a dataset before committing it
            to the repository.
          </li>
        </ol>
        <p class="tip">
          Tip: after pushing to the <code>main</code> branch, enable GitHub Pages in the repository
          settings with the <strong>docs/</strong> folder selected as the publishing source. The site
          will update every time you push new data.
        </p>
      </section>

      <section id="datasets" class="datasets">
        <h2>Published datasets</h2>
        <div class="dataset-list" id="dataset-list" aria-live="polite"></div>
        <div class="uploader">
          <h3>Preview a local file</h3>
          <p>
            Load a <code>.geojson</code> file from your computer to see how it will appear on the
            map before publishing.
          </p>
          <label class="upload-button">
            <input type="file" id="file-input" accept="application/geo+json,.geojson" />
            Choose a GeoJSON file
          </label>
        </div>
      </section>

      <section id="map" class="map-section">
        <h2>Interactive map</h2>
        <div id="map-canvas" class="map" role="region" aria-label="Void visualisation map"></div>
        <div id="layer-legend" class="legend"></div>
      </section>
    </main>

    <footer class="page-footer">
      <p>
        Built with ❤️ for rapid anomaly visualisation. Maintained by the GeoAnomalyMapper team.
      </p>
    </footer>

    <script
      src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
      integrity="sha256-o9N1j7kGStp1ZPbbV4NLMwXD5qLJ37u0v+UZoM4yRl0="
      crossorigin=""
    ></script>
    <script src="assets/main.js"></script>
  </body>
</html>
